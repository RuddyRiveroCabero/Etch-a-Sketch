<!DOCTYPE html>
<html>
    <head>
        <title>Etch a Sketch</title>
    </head>
    <body>
        <h1>Etch a Sketch</h1>
        <p>
          <button id="btn">Reset Classic</button>
          <button id="rdm">Random Color</button>
          <button id="opa">Opacity Blue</button>
          

        </p>
        <div id='container'></div>

        <script>
        //tenemos una variable por defecto
        // creamos el contenedor con la variable
        // creamos el grid segun la variable
        // cambiamos de color al div
        // reset buton

        //random color
        // increase opacity 10%
        let sizeOfGrid=16;
        let gridColumsauto;
        let gridcontainer = document.getElementById('container');
        
        
        //set colums of grid
        function setColumns(sizeOfGrid){
            gridColumsauto="";
            for(let i=0;i<sizeOfGrid;i++){
            gridColumsauto+="auto ";
        }
        }
        function createGrid(sizeOfGrid){
            for (let i = 0; i < sizeOfGrid*sizeOfGrid; i++) {
            let divgrid = document.createElement('div');
            divgrid.classList.add('divgrid');
            divgrid.setAttribute('style','background:white; border: 1px solid; padding:0px margin:0px;');
            gridcontainer.appendChild(divgrid);
            divgrid.addEventListener('mouseover', () => {
            divgrid.setAttribute('style','background:blue; border: 1px solid; padding:0px margin:0px;');
                    });
        };

        }
        //definimos columnas
        setColumns(sizeOfGrid);
        gridcontainer.setAttribute('style',`height: 960px; width:960px; background:lightblue; padding:10px; grid-gap: 0px; display:inline-grid; grid-template-columns:${gridColumsauto}`)
        //creamos grid que escucha
        createGrid(sizeOfGrid);
        
        let btn = document.getElementById('btn');
        btn.addEventListener('click', ()=>{
            //sizeOfGrid=prompt("Enter the grid size","16-64");
            document.getElementById("container").innerHTML='';
            sizeOfGrid = prompt("Please enter your new size of grid from 16 to 64", 16);
            while (isNaN(sizeOfGrid)||sizeOfGrid<16||sizeOfGrid>64) {
                alert("Please enter a number from 16 to 64.");
                sizeOfGrid = prompt("Please enter your new size of grid from 16 to 64", 16);
           }
        setColumns(sizeOfGrid);
        document.getElementById("container").style=`height: 960px; width:960px; background:lightblue; padding:10px; grid-gap: 0px; display:inline-grid; grid-template-columns:${gridColumsauto}`
        createGrid(sizeOfGrid);   
        });
        let rdm = document.getElementById("rdm");
        rdm.addEventListener('click',function(){
            for (let i = 0; i < sizeOfGrid*sizeOfGrid; i++) {
                var x = document.getElementsByClassName("divgrid");
                x[i].addEventListener('mouseover',function(){
                x[i].setAttribute('style',`background: rgb(${Math.round(100*Math.random())}, ${Math.round(100*Math.random())}, ${Math.round(100*Math.random())}); border: 1px solid; padding:0px margin:0px;`);  
                })

            }
        })
        let opa = document.getElementById("opa");
        opa.addEventListener('click',function(){
            for (let i = 0; i < sizeOfGrid*sizeOfGrid; i++) {
                let opacity=0;
                var x = document.getElementsByClassName("divgrid");
                x[i].addEventListener('mouseover',function(){
                opacity += 0.1;
                x[i].setAttribute('style',`background: rgb(0, 0, 255); opacity:${opacity}; border: 1px solid; padding:0px margin:0px;`);  
                })

            }
        })
        </script>

    </body>
</html>